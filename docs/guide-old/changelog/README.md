# 更新日志

## v1.2.8
* 新增：增加内置Rest API调试工具
* 新增：增加接口"检测指定商品是否被收藏"
* 修复：商品筛选价格菜单显示的文本内容不正确
* 修复："筛选价格与品牌后获取商品Id"无效
* 修复：验证码使用获取的排序方式
* 修复："根据权限获取菜单列表"允许游客获取
* 优化：后台管理模板更新至1.8.0
* 优化：修改数据库模板后缀，避免错误方式导入数据库
* 优化：安装向导检测PHP最高版本
* 优化：修改返回数据为空时默认返回"空对象"
* 优化：错误返回时字段"data"也将存在

## v1.2.7
* 新增：增加安装向导
* 新增：增加非法资源类型过滤
* 新增：APP模块增加"module"字段,主要用于过滤方便
* 新增：验证当前账户是否有越级操作
* 修复：路径存在空格时运行报错
* 修复：购物车列表获取字段错误
* 修复："获取完整收货地址"处理国籍时变量名错误
* 修复："get_version"函数检测字符错误
* 修复：生产环境下请求缩略图报错
* 修复：PNG图片处理后透明色变白色
* 修复：SQL函数语句字段错误
* 修复：PHP7.0环境下模型"self::destroy"报错
* 修复：根据广告位置编码获取数据后子列表将根据类型进行解码
* 修复：二维码LOGO部分图片颜色失真
* 修复："根据商品分类获取指定类型的商品"接口传值，默认"商品分类编号"为全部
* 修复：API请求签名长度验证修改
* 修复：微信支付二维码生成
* 优化：区域数据结构调整
* 优化：URL路径调整,以适应未做伪静态环境下404错误
* 优化：GIF图片将不再支持样式处理(GD对多帧图片处理不了)
* 优化：第三方OSS删除资源如有报错将忽略,但本地数据库中的记录还是将被删除
* 优化：OSS上传模块外链地址添加检测,不允许附带前缀(http、https)
* 优化："获取指定编号商品的基础数据"接口增加返回字段"short_name,attachment"
* 优化：APP状态分离出函数单独验证
* 优化：更新SDK后对支付组件进行兼容更新
* 优化：接口"财务对账号进行资金调整"无来源订单号时系统自动生成

## v1.2.0
* 增加系统常量”APP_PUBLIC_PATH”
* ”admin”模块支持自定义入口
* 增加头部安全协议
* 增加”cookie”安全性
* 入口页添加头部协议,防止乱码显示.
* 修复一处菜单权限逻辑错误
* 支持跨域请求,支持参数配置允许跨域的域名
* 对 OPTIONS 请求进行友好返回
* 未授权或授权超时将返回401状态
* 访问api接口时权限不足返回403状态
* 修复权限模块存在的缺陷